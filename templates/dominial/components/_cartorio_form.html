<!--
  Componente para campos de cartório com autocomplete
  Parâmetros esperados:
    - prefix: prefixo para os IDs dos campos (ex: 'averbacao', 'registro')
    - titulo_obrigatorio: se o título é obrigatório (true/false)
    - data_obrigatorio: se a data é obrigatória (true/false)
    - cartorio_obrigatorio: se o cartório é obrigatório (true/false)
    - livro_obrigatorio: se o livro é obrigatório (true/false)
    - folha_obrigatorio: se a folha é obrigatória (true/false)
    - modo_edicao: se está em modo de edição
    - lancamento: objeto do lançamento (se modo_edicao)
    - form_data: dados do formulário
-->
<div id="campos-cartorio-{{ prefix }}" style="margin-top: 15px; padding: 15px; background-color: #f8f9fa; border-radius: 8px; border: 1px solid #e9ecef;">
    <h5 style="margin-top: 0; color: #495057;">Informações de Cartório de Origem</h5>
    <div class="grid-3">
        <div class="form-group">
            <label for="cartorio_origem_{{ prefix }}">Cartório{% if cartorio_obrigatorio %} *{% endif %}</label>
            <div class="autocomplete-container">
                <input type="text" name="cartorio_origem_nome_{{ prefix }}" id="cartorio_origem_nome_{{ prefix }}" 
                       placeholder="Digite o nome do cartório" autocomplete="off"
                       value="{% if modo_edicao and lancamento.cartorio_origem %}{{ lancamento.cartorio_origem.nome }}{% elif form_data and form_data.cartorio_origem_nome_prefix %}{{ form_data.cartorio_origem_nome_prefix }}{% endif %}">
                <input type="hidden" name="cartorio_origem_{{ prefix }}" id="cartorio_origem_{{ prefix }}" 
                       value="{% if modo_edicao and lancamento.cartorio_origem %}{{ lancamento.cartorio_origem.id }}{% elif form_data and form_data.cartorio_origem_prefix %}{{ form_data.cartorio_origem_prefix }}{% endif %}">
                <div class="autocomplete-suggestions cartorio-suggestions-{{ prefix }}"></div>
            </div>
        </div>
        <div class="form-group">
            <label for="livro_origem_{{ prefix }}">Livro{% if livro_obrigatorio %} *{% endif %}</label>
            <input type="text" name="livro_origem_{{ prefix }}" id="livro_origem_{{ prefix }}" 
                   value="{% if modo_edicao %}{{ lancamento.livro_origem }}{% elif form_data %}{{ form_data.livro_origem_prefix }}{% endif %}">
        </div>
        <div class="form-group">
            <label for="folha_origem_{{ prefix }}">Folha{% if folha_obrigatorio %} *{% endif %}</label>
            <input type="text" name="folha_origem_{{ prefix }}" id="folha_origem_{{ prefix }}" 
                   value="{% if modo_edicao %}{{ lancamento.folha_origem }}{% elif form_data %}{{ form_data.folha_origem_prefix }}{% endif %}">
        </div>
    </div>
    <div class="form-group">
        <label for="data_origem_{{ prefix }}">Data{% if data_obrigatorio %} *{% endif %}</label>
        <input type="date" name="data_origem_{{ prefix }}" id="data_origem_{{ prefix }}" 
               value="{% if modo_edicao and lancamento.data_origem %}{{ lancamento.data_origem|date:'Y-m-d' }}{% elif form_data %}{{ form_data.data_origem_prefix }}{% endif %}">
    </div>
    {% if titulo_obrigatorio %}
    <div class="form-group">
        <label for="titulo_{{ prefix }}">Título *</label>
        <input type="text" name="titulo_{{ prefix }}" id="titulo_{{ prefix }}" placeholder="Título do registro"
               value="{% if modo_edicao %}{{ lancamento.titulo }}{% elif form_data %}{{ form_data.titulo_prefix }}{% endif %}">
    </div>
    {% endif %}
</div> 